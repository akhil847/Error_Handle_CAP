sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onUploadfile:function(t){const o=document.createElement("input");o.type="file";o.onchange=()=>{const t=o.files[0];if(!t){return}new sap.m.MessageBox.warning(`Do you want to upload file "${t.name}"? uploading new file will override the existing file`,{actions:[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.NO],onClose:o=>{if(o===sap.m.MessageBox.Action.YES){console.log(`Uploading file: ${t.name}, MIME type: ${t.type}`);const o=new FileReader;o.onload=async o=>{const n=o.target.result;const s=this.getBindingContext();const a=s.getPath();const i=this.getModel().sServiceUrl;const l=`${i}${a}/Content/$value`;s.setProperty("FileName",t.name);s.setProperty("MIMEType",t.type);await fetch(l,{method:"PUT",headers:{"Content-Type":t.type},body:n}).then(()=>{e.show("File uploaded successfully!");try{s.refresh()}catch(t){e.show("Failed to refresh!")}}).catch(t=>{e.show("File upload failed.");console.error("Upload error:",t)})};o.readAsArrayBuffer(t)}}})};o.click()}}});
//# sourceMappingURL=FileUploader.js.map