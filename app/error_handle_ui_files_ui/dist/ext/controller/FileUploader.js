sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onUploadfile:function(t){const o=document.createElement("input");o.type="file";o.onchange=()=>{const t=o.files[0];if(!t){return}new sap.m.MessageBox.confirm(`Do you want to upload file "${t.name}"?`,{actions:[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.NO],onClose:o=>{if(o===sap.m.MessageBox.Action.YES){console.log(`Uploading file: ${t.name}, MIME type: ${t.type}`);const o=new FileReader;o.onload=async o=>{const s=o.target.result;const n=this.getBindingContext();const a=n.getPath();const c=this.getModel().sServiceUrl;const i=`${c}${a}/Content/$value`;n.setProperty("FileName",t.name);n.setProperty("MIMEType",t.type);await fetch(i,{method:"PUT",headers:{"Content-Type":t.type,Accept:"application/json"},body:s}).then(()=>{e.show("File uploaded successfully!");try{n.refresh()}catch(t){e.show("Failed to refresh!")}}).catch(t=>{e.show("File upload failed.");console.error("Upload error:",t)})};o.readAsArrayBuffer(t)}}})};o.click()}}});
//# sourceMappingURL=FileUploader.js.map