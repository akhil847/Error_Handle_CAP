sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onFileDownload:async function(e){const o=this.getBindingContext();const t=o.getProperty("FileName")||"downloaded_file";const s=o.getProperty("MIMEType")||"application/octet-stream";sap.m.MessageBox.confirm(`Do you want to download the file "${t}"?`,{actions:[sap.m.MessageBox.Action.YES,sap.m.MessageBox.Action.NO],onClose:async e=>{if(e===sap.m.MessageBox.Action.YES){try{const e=o.getPath();const a=this.getModel().sServiceUrl;const n=`${a}${e}/Content/$value`;const c=await fetch(n,{method:"GET",headers:{Accept:s}});if(!c.ok)throw new Error("Failed to download file");const i=await c.blob();const d=window.URL.createObjectURL(i);const l=document.createElement("a");l.href=d;l.download=t;document.body.appendChild(l);l.click();window.URL.revokeObjectURL(d);l.remove();sap.m.MessageToast.show("File downloaded successfully!")}catch(e){sap.m.MessageToast.show("File download failed."+e.message);console.error("Download error:",e)}}}})}}});
//# sourceMappingURL=FileDownloader.js.map