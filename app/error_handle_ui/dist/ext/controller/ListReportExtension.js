sap.ui.define(["sap/m/MessageToast","sap/ui/core/Fragment"],function(e,t){"use strict";return{onEditPress_:async function(s){let a=this.getSelectedContexts();if(a.length>1){e.show("Please select one record.");return}var o=a[0].getObject().Source_payload;console.log(o);if(!this.oFragment){try{this.fragmentId="customUpdateDialog";this.oFragment=await t.load({id:this.fragmentId,name:"com.app.errorhandleui.ext.fragments.update",controller:this});if(this.addDependent){this.addDependent(this.oFragment)}this.oUpdateButton=this.oFragment.getBeginButton();this.oCancelButton=this.oFragment.getEndButton();const s=t.byId(this.fragmentId,"_IDGenTextArea");if(s){var r=JSON.parse(o);o=JSON.stringify(r,null,2);s.setValue(o)}const a=t.byId(this.fragmentId,"_IDGenButton2");if(a){a.attachPress(()=>{if(this.oFragment&&this.oFragment.isOpen()){this.oFragment.close();this.oFragment.destroy();this.oFragment=null}})}const n=t.byId(this.fragmentId,"_IDGenButton1");if(n){n.attachPress(async()=>{const t=s.getValue(o);function a(e){try{JSON.parse(e);return true}catch(e){return false}}if(a(t)){try{const e=this.getSelectedContexts();if(!e.length){sap.m.MessageToast.show("Please select a record first.");return}const t=e[0];if(t.getObject().Status==="Success"){sap.m.MessageBox.error("Error in updating Source Payload : You can not update success records");return}t.setProperty("Source_payload",s.getValue());this.oFragment.close();this.oFragment.destroy();this.oFragment=null;sap.m.MessageBox.success("Source Payload updated successfully try to reprocess the updated payload")}catch(e){sap.m.MessageBox.error("Failed to update."+e.message)}}else{e.show("Invalid JSON format.")}})}this.oFragment.open()}catch(t){e.show("Failed to load fragment.");console.error("Failed to load fragment: ",t);return}}else{this.oFragment.open()}}}});
//# sourceMappingURL=ListReportExtension.js.map